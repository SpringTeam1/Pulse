<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.test.pulse.mapper.UserMapper">
	
	<insert id="add" parameterType="com.test.pulse.model.user.AccountInfoDTO">
	
		INSERT INTO tblAccountInfo(accountId, password, profilePhoto, nickname, accountRole, accountSeq, accountLevel, registerType, accountCategory)
			VALUES (#{accountId}, #{password}, DEFAULT, #{nickname}, DEFAULT, seqaccountinfo.nextval, DEFAULT, DEFAULT, DEFAULT)
	
	</insert>
	
	<insert id="addDetail" parameterType="com.test.pulse.model.user.AccountInfoDTO">
	
		INSERT INTO tblAccountInfoDetail(accountInfoDetailSeq, accountId, name, phoneNum, birthday, gender, regionCity, regionCounty, regionDistrict, exerciseFrequency, joinDate)
			VALUES (seqAccountInfoDetail.nextVal, #{accountId}, #{name}, #{phoneNum}, TO_DATE(#{birthday,jdbcType=VARCHAR}, 'YYYY-MM-DD'), #{gender}, #{regionCity}, #{regionCounty}, #{regionDistrict}, #{exerciseFrequency, jdbcType=VARCHAR}, DEFAULT)
	
	</insert>
	
	
</mapper>













